GLOBAL {
    INPUTNAME   "build/orig/prg/ou.prg";
    OUTPUTNAME  "build/orig/src/ou.s";
    STARTADDR   $8C9C;
    PAGELENGTH  0;
    CPU         "6502";
};

ASMINC  { FILE "orig/c64.inc"; };
ASMINC  { FILE "include/kernel.inc"; };
ASMINC  { FILE "orig/hello.inc"; };
ASMINC  { FILE "orig/mi.inc"; };
ASMINC  { FILE "orig/st.inc"; };

SEGMENT { START $8C9C;  END $8C9D;  NAME "LOADADDR"; };
SEGMENT { START $8C9E;  END $FFFF;  NAME "code"; };

RANGE   { START $8C9C;  END $8C9D;  TYPE AddrTable; };

RANGE   { START $8C9E;  END $8D00;  TYPE Code; };
RANGE   { START $8D01;  END $8D03;  TYPE TextTable; };
RANGE   { START $8D04;  END $8D85;  TYPE Code; };
RANGE   { START $8D86;  END $8D9F;  TYPE TextTable; };
RANGE   { START $8DA0;  END $8DC4;  TYPE Code; };
RANGE   { START $8DC5;  END $96CF;  TYPE ByteTable; };
RANGE   { START $96D0;  END $96FC;  TYPE Code; };
RANGE   { START $96FD;  END $9712;  TYPE TextTable; };
RANGE   { START $9713;  END $975A;  TYPE Code; };
RANGE   { START $975B;  END $9767;  TYPE TextTable; };

RANGE   { START $9768;  END $978A;  TYPE Code; };
RANGE   { START $978B;  END $978C;  TYPE AddrTable; };
RANGE   { START $978D;  END $9A0F;  TYPE ByteTable; };

RANGE   { START $9A10;  END $9A2E;  TYPE Code; };
RANGE   { START $9A2F;  END $9E28;  TYPE ByteTable; };
RANGE   { START $9E29;  END $9E5A;  TYPE AddrTable; };  # JSR addresses start here...
RANGE   { START $9E5B;  END $FFFF;  TYPE ByteTable; };

########################
# Subroutines

LABEL   { NAME "s8DC5";                     ADDR $8DC5; };
LABEL   { NAME "s8DD0";                     ADDR $8DD0; };

LABEL   { NAME "cmd_pass";                  ADDR $8DDC; };
LABEL   { NAME "cmd_attack";                ADDR $8E99; };
LABEL   { NAME "cmd_board";                 ADDR $9053; };
LABEL   { NAME "cmd_cast";                  ADDR $9299; };
LABEL   { NAME "cmd_enter";                 ADDR $9442; };
LABEL   { NAME "cmd_fire";                  ADDR $95CE; };
LABEL   { NAME "cmd_quit_save";             ADDR $964E; };
LABEL   { NAME "cmd_ready";                 ADDR $9671; };
LABEL   { NAME "cmd_xit";                   ADDR $9677; };
LABEL   { NAME "get_player_position";       ADDR $96D0; };
LABEL   { NAME "cmd_north";                 ADDR $96D6; };
LABEL   { NAME "cmd_south";                 ADDR $96DC; };
LABEL   { NAME "cmd_east";                  ADDR $96E2; };
LABEL   { NAME "cmd_west";                  ADDR $96E8; };
LABEL   { NAME "s97E0";                     ADDR $97E0; };
LABEL   { NAME "s9840";                     ADDR $9840; };
LABEL   { NAME "s9A10";                     ADDR $9A10; };
LABEL   { NAME "s9A2F";                     ADDR $9A2F; };
LABEL   { NAME "s9CFC";                     ADDR $9CFC; };
LABEL   { NAME "s9D50";                     ADDR $9D50; };
LABEL   { NAME "cmd_inform_search";         ADDR $9D82; };
LABEL   { NAME "s9E0B";                     ADDR $9E0B; };

########################
# Jump targets

LABEL   { NAME "j8774";                     ADDR $8774; };
LABEL   { NAME "j9752";                     ADDR $9752; };

########################
# Branch targets

LABEL   { NAME "b8CB4";                     ADDR $8CB4; };
LABEL   { NAME "b8CF0";                     ADDR $8CF0; };
LABEL   { NAME "b8CFB";                     ADDR $8CFB; };
LABEL   { NAME "b8D07";                     ADDR $8D07; };
LABEL   { NAME "b8D31";                     ADDR $8D31; };
LABEL   { NAME "b8D45";                     ADDR $8D45; };
LABEL   { NAME "b8D4B";                     ADDR $8D4B; };
LABEL   { NAME "b8D4E";                     ADDR $8D4E; };
LABEL   { NAME "b8D50";                     ADDR $8D50; };
LABEL   { NAME "b8D72";                     ADDR $8D72; };
LABEL   { NAME "b8D74";                     ADDR $8D74; };
LABEL   { NAME "b8DA0";                     ADDR $8DA0; };
LABEL   { NAME "b8DAD";                     ADDR $8DAD; };

LABEL   { NAME "b96EC";                     ADDR $96EC; };
LABEL   { NAME "b9716";                     ADDR $9716; };
LABEL   { NAME "b9725";                     ADDR $9725; };
LABEL   { NAME "b973B";                     ADDR $973B; };
LABEL   { NAME "b9746";                     ADDR $9746; };
LABEL   { NAME "b974D";                     ADDR $974D; };
LABEL   { NAME "b9757";                     ADDR $9757; };
LABEL   { NAME "b977A";                     ADDR $977A; };
LABEL   { NAME "b977F";                     ADDR $977F; };
LABEL   { NAME "b9788";                     ADDR $9788; };
LABEL   { NAME "b9795";                     ADDR $9795; };
LABEL   { NAME "b97C4";                     ADDR $97C4; };

LABEL   { NAME "b9A15";                     ADDR $9A15; };
LABEL   { NAME "b9A24";                     ADDR $9A24; };
LABEL   { NAME "b9A27";                     ADDR $9A27; };

########################
# Data

LABEL   { NAME "w8D43";                     ADDR $8D43; };
LABEL   { NAME "w8D44";                     ADDR $8D44; };
LABEL   { NAME "command_routine_table";     ADDR $9E29; };
LABEL   { NAME "command_routine_table_hi";  ADDR $9E2A; };

LABEL   { NAME "rBD00";                     ADDR $BD00; };

########################
# Zero Page

LABEL   { NAME "PROCESSOR_PORT";            ADDR $01; };

LABEL   { NAME "POS_X";                     ADDR $20; };
LABEL   { NAME "POS_Y";                     ADDR $21; };
LABEL   { NAME "zp2C";                      ADDR $2C; };
LABEL   { NAME "zp2D";                      ADDR $2D; };

LABEL   { NAME "TMP_PTR";                   ADDR $60; };
LABEL   { NAME "TMP_PTR_HI";                ADDR $61; };
LABEL   { NAME "TMP_PTR2";                  ADDR $62; };
LABEL   { NAME "TMP_PTR2_HI";               ADDR $63; };

LABEL   { NAME "zp9E";                      ADDR $9E; };
