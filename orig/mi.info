GLOBAL {
    INPUTNAME   "build/orig/prg/mi.prg";
    OUTPUTNAME  "build/orig/src/mi.s";
    STARTADDR   $73FE;
    PAGELENGTH  0;
    CPU         "6502";
};

ASMINC  { FILE "orig/c64.inc"; };
ASMINC  { FILE "include/kernel.inc"; };
ASMINC  { FILE "include/global.inc"; };
ASMINC  { FILE "include/diskio.inc"; };
ASMINC  { FILE "include/milib.inc"; };
ASMINC  { FILE "include/stlib.inc"; };

SEGMENT { START $73FE;  END $73FF;  NAME "LOADADDR"; };
SEGMENT { START $7400;  END $8CCD;  NAME "code"; };

RANGE   { START $73FE;  END $73FF;  TYPE AddrTable; };

RANGE   { START $7400;  END $7402;  TYPE Code; };
RANGE   { START $7403;  END $8174;  TYPE ByteTable; };
RANGE   { START $8175;  END $817C;  TYPE Code; };
RANGE   { START $817D;  END $818D;  TYPE ByteTable; };
RANGE   { START $818E;  END $81A6;  TYPE Code; };
RANGE   { START $81A7;  END $83AB;  TYPE ByteTable; };
RANGE   { START $83AC;  END $83B7;  TYPE Code; };
RANGE   { START $83B8;  END $83D6;  TYPE ByteTable; };
RANGE   { START $83D7;  END $83FA;  TYPE Code; };
RANGE   { START $83FB;  END $83FD;  TYPE ByteTable; };
RANGE   { START $83FE;  END $8415;  TYPE Code; };
RANGE   { START $8416;  END $8489;  TYPE ByteTable; };
RANGE   { START $848A;  END $84BF;  TYPE Code; };
RANGE   { START $84C0;  END $84C5;  TYPE ByteTable; };
RANGE   { START $84C6;  END $8521;  TYPE Code; };
RANGE   { START $8522;  END $8688;  TYPE ByteTable; };
RANGE   { START $8689;  END $8694;  TYPE Code; };
RANGE   { START $8695;  END $8700;  TYPE ByteTable; };
RANGE   { START $8701;  END $8716;  TYPE Code; };
RANGE   { START $8717;  END $8776;  TYPE ByteTable; };

RANGE   { START $8777;  END $8787;  TYPE Code; };
RANGE   { START $8788;  END $8C5F;  TYPE ByteTable; };

RANGE   { START $8C60;  END $8C73;  TYPE Code; };
RANGE   { START $8C97;  END $8C9D;  TYPE ByteTable; };
RANGE   { START $8C9E;  END $8CCC;  TYPE Code; };
RANGE   { START $8CCD;  END $8CCD;  TYPE ByteTable; };


########################
# Subroutines

LABEL   { NAME "s8175";             ADDR $8175; };
LABEL   { NAME "s818F";             ADDR $818F; };
LABEL   { NAME "s83AC";             ADDR $83AC; };
LABEL   { NAME "s83DD";             ADDR $83DD; };
LABEL   { NAME "s848E";             ADDR $848E; };
LABEL   { NAME "s84C6";             ADDR $84C6; };
LABEL   { NAME "s8689";             ADDR $8689; };
LABEL   { NAME "s8777";             ADDR $8777; };

########################
# Jump targets

LABEL   { NAME "j8496";             ADDR $8496; };
LABEL   { NAME "j8C60";             ADDR $8C60; };
LABEL   { NAME "do_mi_main";        ADDR $8C9E; };

########################
# Branch targets

LABEL   { NAME "b818E";             ADDR $818E; };

LABEL   { NAME "b8196";             ADDR $8196; };

LABEL   { NAME "b83B4";             ADDR $83B4; };

LABEL   { NAME "b83DC";             ADDR $83DC; };
LABEL   { NAME "b83F3";             ADDR $83F3; };
LABEL   { NAME "b83FE";             ADDR $83FE; };

LABEL   { NAME "b84A5";             ADDR $84A5; };
LABEL   { NAME "b84B0";             ADDR $84B0; };

LABEL   { NAME "b84DA";             ADDR $84DA; };
LABEL   { NAME "b8516";             ADDR $8516; };

LABEL   { NAME "b8703";             ADDR $8703; };

LABEL   { NAME "b870E";             ADDR $870E; };

LABEL   { NAME "b8C6A";             ADDR $8C6A; };
LABEL   { NAME "b8C74";             ADDR $8C74; };
LABEL   { NAME "b8C7A";             ADDR $8C7A; };

########################
# Data

LABEL   { NAME "text_area_cache";   ADDR $81A7; };
LABEL   { NAME "w83B5";             ADDR $83B5; };
LABEL   { NAME "w83B6";             ADDR $83B6; };
LABEL   { NAME "w8C97";             ADDR $8C97; };

########################
# Zero Page

LABEL   { NAME "CUR_X_OFF";     ADDR $2E; };
LABEL   { NAME "CUR_X_MAX";     ADDR $2F; };

LABEL   { NAME "zp30";          ADDR $30; };
LABEL   { NAME "zp31";          ADDR $31; };
LABEL   { NAME "CUR_X";         ADDR $32; };
LABEL   { NAME "CUR_Y";         ADDR $33; };

LABEL   { NAME "zp56";          ADDR $56; };
LABEL   { NAME "zp5B";          ADDR $5B; };
LABEL   { NAME "BM_ADDR_MASK";  ADDR $5C; };
LABEL   { NAME "BM2_ADDR_MASK"; ADDR $5D; };
